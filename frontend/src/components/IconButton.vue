<script setup lang="ts">
import { ref } from 'vue'

interface Props {
  icon: 'refresh' | 'dropdown' | 'open' | 'close' | 'sync'
  text?: string
}

defineProps<Props>()

const innerShowSlot = ref(false)

const handleClick = () => {
  innerShowSlot.value = true
}

const onMouseLeave = () => {
  innerShowSlot.value = false
}
</script>

<template>
  <div @mouseleave="onMouseLeave" style="position: relative">
    <div @click="handleClick" class="btn">
      <div v-if="text" class="text">{{ text }}</div>
      <svg
        v-if="icon === 'refresh'"
        t="1695106554185"
        class="icon"
        viewBox="0 0 1024 1024"
        version="1.1"
        xmlns="http://www.w3.org/2000/svg"
        p-id="4005"
        width="16"
        height="16"
      >
        <path
          d="M733.04 379.104a264.112 264.112 0 0 0-468.112 41.76 14.336 14.336 0 0 1-17.968 8.16l-20.256-7.008a12.352 12.352 0 0 1-7.456-16.192 312.112 312.112 0 0 1 556.736-48.56l12.704-44.352a16 16 0 0 1 7.632-9.584l24.752-13.712a14.464 14.464 0 0 1 20.912 16.64l-38.128 132.96a11.136 11.136 0 0 1-13.76 7.632l-132.96-38.128a14.464 14.464 0 0 1-3.04-26.56l24.752-13.712a16 16 0 0 1 12.16-1.392l42.032 12.048z m-447.52 280.352a264.112 264.112 0 0 0 468.112-41.76 14.336 14.336 0 0 1 17.968-8.16l20.256 7.008a12.352 12.352 0 0 1 7.44 16.176c-46.368 118.032-160.8 199.072-290.432 199.072-110.96 0-210.768-59.296-266.304-150.432l-12.704 44.288a16 16 0 0 1-7.616 9.584l-24.752 13.712a14.464 14.464 0 0 1-20.928-16.64l38.128-132.96a11.136 11.136 0 0 1 13.76-7.632l132.976 38.128a14.464 14.464 0 0 1 3.04 26.56l-24.768 13.712a16 16 0 0 1-12.16 1.392l-42.016-12.048z"
          fill="#8D8E9A"
          p-id="4006"
        ></path>
      </svg>
      <svg
        v-if="icon === 'dropdown'"
        t="1695107034551"
        class="icon"
        viewBox="0 0 1024 1024"
        version="1.1"
        xmlns="http://www.w3.org/2000/svg"
        p-id="7053"
        width="16"
        height="16"
      >
        <path
          d="M530.61087 696.243211c-4.935406 0-9.66922-1.960655-13.159718-5.451152L333.207941 506.547825c-7.268544-7.268544-7.268544-19.051915 0-26.320459 7.268544-7.269567 19.052938-7.267521 26.320459 0l171.083493 171.083493 171.083493-171.083493c7.267521-7.268544 19.052938-7.268544 26.320459 0 7.268544 7.268544 7.268544 19.051915 0 26.320459L543.771611 690.792059C540.281113 694.282556 535.547299 696.243211 530.61087 696.243211z"
          p-id="7054"
          fill="#8D8E9A"
        ></path>
      </svg>
      <svg
        v-if="icon === 'open'"
        t="1695108850691"
        class="icon"
        viewBox="0 0 1024 1024"
        version="1.1"
        xmlns="http://www.w3.org/2000/svg"
        p-id="9271"
        width="16"
        height="16"
      >
        <path
          d="M508.586667 365.226667c-3.413333-3.413333-10.24-6.826667-13.653334-6.826667H146.773333c-81.92 0-146.773333 68.266667-146.773333 153.6s64.853333 153.6 146.773333 153.6h348.16c6.826667 0 10.24-3.413333 13.653334-6.826667 3.413333-3.413333 3.413333-10.24 0-17.066666-20.48-40.96-30.72-85.333333-30.72-129.706667s10.24-88.746667 30.72-129.706667c3.413333-3.413333 3.413333-10.24 0-17.066666zM768 392.533333c-64.853333 0-119.466667 54.613333-119.466667 119.466667s54.613333 119.466667 119.466667 119.466667S887.466667 576.853333 887.466667 512s-54.613333-119.466667-119.466667-119.466667z"
          fill="#8D8E9A"
          p-id="9272"
        ></path>
        <path
          d="M768 256c-139.946667 0-256 116.053333-256 256s116.053333 256 256 256S1024 651.946667 1024 512s-116.053333-256-256-256z m0 409.6c-85.333333 0-153.6-68.266667-153.6-153.6s68.266667-153.6 153.6-153.6 153.6 68.266667 153.6 153.6-68.266667 153.6-153.6 153.6z"
          fill="#8D8E9A"
          p-id="9273"
        ></path>
      </svg>
      <svg
        v-if="icon === 'close'"
        t="1695108885274"
        class="icon"
        viewBox="0 0 1027 1024"
        version="1.1"
        xmlns="http://www.w3.org/2000/svg"
        p-id="9570"
        width="16"
        height="16"
      >
        <path
          d="M877.226667 358.4H532.48c-6.826667 0-10.24 3.413333-13.653333 6.826667-3.413333 3.413333-3.413333 10.24 0 17.066666 20.48 40.96 30.72 85.333333 30.72 129.706667s-10.24 88.746667-30.72 129.706667c-3.413333 6.826667-3.413333 10.24 0 17.066666s10.24 6.826667 13.653333 6.826667h348.16c81.92 0 146.773333-68.266667 146.773333-153.6s-68.266667-153.6-150.186666-153.6zM256 392.533333C191.146667 392.533333 136.533333 447.146667 136.533333 512s54.613333 119.466667 119.466667 119.466667S375.466667 576.853333 375.466667 512s-54.613333-119.466667-119.466667-119.466667z"
          fill="#8D8E9A"
          p-id="9571"
        ></path>
        <path
          d="M256 256C116.053333 256 0 372.053333 0 512s116.053333 256 256 256S512 651.946667 512 512s-116.053333-256-256-256z m0 409.6C170.666667 665.6 102.4 597.333333 102.4 512s68.266667-153.6 153.6-153.6 153.6 68.266667 153.6 153.6-68.266667 153.6-153.6 153.6z"
          fill="#8D8E9A"
          p-id="9572"
        ></path>
      </svg>
      <svg
        v-if="icon === 'sync'"
        t="1695109948521"
        class="icon"
        viewBox="0 0 1024 1024"
        version="1.1"
        xmlns="http://www.w3.org/2000/svg"
        p-id="22293"
        width="16"
        height="16"
      >
        <path
          d="M389.216 582.624c1.024-0.576 2.08-0.992 2.976-1.824 0.224-0.16 0.288-0.416 0.48-0.64 0.16-0.16 0.416-0.224 0.608-0.416l45.44-49.92a16 16 0 0 0-23.68-21.568l-15.968 17.536C407.072 463.872 454.432 416 512 416c41.76 0 80.16 25.28 100.224 65.92a16 16 0 1 0 28.672-14.112C615.424 416.128 566.016 384 512 384c-76.16 0-138.176 63.968-145.184 145.12l-18.976-20.864a16 16 0 0 0-23.68 21.568l45.44 49.92c0.192 0.192 0.416 0.256 0.608 0.448s0.256 0.448 0.48 0.64c0.864 0.8 1.92 1.216 2.944 1.792 0.64 0.352 1.152 0.864 1.792 1.12 1.92 0.768 3.968 1.216 6.016 1.216s4.064-0.448 6.016-1.216c0.64-0.256 1.152-0.768 1.76-1.12zM654.4 508.256c-0.192-0.192-0.448-0.256-0.64-0.448-0.16-0.192-0.224-0.448-0.416-0.64-0.64-0.544-1.44-0.768-2.112-1.248-0.896-0.576-1.728-1.184-2.688-1.6-0.96-0.384-1.984-0.512-2.976-0.704-1.024-0.192-1.984-0.448-3.008-0.448s-1.952 0.256-2.976 0.448-2.016 0.32-2.976 0.704c-0.96 0.384-1.792 1.024-2.688 1.6-0.704 0.448-1.472 0.704-2.112 1.28-0.224 0.16-0.288 0.416-0.48 0.608-0.16 0.192-0.416 0.256-0.608 0.448l-45.44 49.92a16 16 0 0 0 23.68 21.568l15.968-17.536C616.928 624.128 569.568 672 512 672c-41.6 0-80-25.28-100.224-66.016a16 16 0 0 0-28.672 14.24C408.736 671.936 458.144 704 512 704c76.16 0 138.176-63.968 145.184-145.12l18.976 20.864a15.936 15.936 0 0 0 22.592 1.056 16 16 0 0 0 1.088-22.624l-45.44-49.92z"
          fill="#8D8E9A"
          p-id="22294"
        ></path>
        <path
          d="M914.752 529.056c0.32-5.76 0.448-11.456 0.448-17.056 0-194.08-160.512-352-357.76-352-144.736 0-274.88 86.112-330.24 216.32-128.96 18.048-227.2 121.024-227.2 242.24C0 753.92 120 864 267.52 864h579.52c97.6 0 176.96-78.08 176.96-174.08 0-71.488-43.744-134.24-109.248-160.864zM847.04 800H267.52C155.296 800 64 718.592 64 618.56c0-94.08 82.624-173.344 188.096-180.544 12.704-0.864 23.68-9.184 27.968-21.12C321.28 301.472 432.736 224 557.44 224c161.984 0 293.76 129.184 293.76 288 0 11.2-0.768 22.912-2.336 35.84a32 32 0 0 0 24.416 35.008c51.072 12.032 86.72 56.064 86.72 107.072 0 60.704-50.688 110.08-112.96 110.08z"
          fill="#8D8E9A"
          p-id="22295"
        ></path>
      </svg>
    </div>
    <div v-show="innerShowSlot" class="slot">
      <slot></slot>
    </div>
  </div>
</template>

<style lang="less" scoped>
.btn {
  padding: 0 6px;
  min-width: 28px;
  min-height: 28px;
  text-align: center;
  font-size: 14px;
  color: #8d8e9a;
  background: #101217;
  border: 1px solid #22252a;
  border-radius: 1px;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  user-select: none;
  transition: all 0.2s;

  &:hover {
    opacity: 0.6;
  }

  .text {
    padding: 0 4px 0 8px;
    font-size: 12px;
  }
}
.slot {
  position: absolute;
  background: #101217;
  left: 0;
  right: 0;
  margin: 0 6px;
}
</style>
